comptime

  reset

  print "--------------------- >n "

  fn Str::len Int
    do
      #print "Str::len "
      print this
      var $charList > charList this
      len $charList

  #print "shit"
  tlog > itos >> ::len "Hello World"
  #print > ::len "Hello World"
  expect "11"

  fn Str::reverse
    this Str
    Str
    do
      #print "In function Str::reverse"
      var $charList > charList this
      var reversedString list
      #print > len $charList
      for i > sub >> len $charList >> 1 > -1 > -1
        do
          push reversedString > get $charList i
          #print > get $charList i
      print > len reversedString
      #exit
      join "" reversedString

  var s "Hello, world!"

  print > typename s
  #exit

  print > join " , " >> list "Hello" "world" "!"

  #print s
  #print > itos >> len >>> charList s
  print > ::reverse s

  fn Str::endsWidth
    end Str
    Bool
    do
      var contains > true
      var tl > charList this
      var cl > charList end
      if > lt >> len tl >> len cl
        do > set contains false
        do
          var o > ::reverse this
          var lt_re > charList >> ::reverse this
          var lc_re > charList >> ::reverse end

          each key val lc_re
            do
              if > not >> is val >>> get lt_re key
                do > set contains false
      contains

  if > ::endsWidth "Hello, world!" "sss!"
    do
      print "Yes"
    do
      print "No"
